"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[51],{9052:(t,e,a)=>{a.d(e,{Z:()=>n});var s=a(3645),i=a.n(s)()((function(t){return t[1]}));i.push([t.id,".el-table .warning-row{background:oldlace}.el-table .success-row{background:#f0f9eb}",""]);const n=i},4051:(t,e,a)=>{a.r(e),a.d(e,{default:()=>m});var s=a(7757),i=a.n(s);function n(t,e,a,s,i,n,r){try{var o=t[n](r),l=o.value}catch(t){return void a(t)}o.done?e(l):Promise.resolve(l).then(s,i)}const r={name:"create_update",props:["resID"],data:function(){return{title:"",form:{title:"",value:""},requiredForm:{required:!0,message:"Vui lòng không bỏ trống!",trigger:"blur"}}},mounted:function(){this.resID?(this.title="Cập nhật màu sản phẩm",this.getDetail(this.resID)):(this.title="Thêm mới màu sản phẩm",this.$refs.form.resetFields())},watch:{resID:function(t){t?(this.title="Cập nhật màu sản phẩm",this.getDetail(t)):this.title="Thêm mới màu sản phẩm"}},methods:{submit:function(){var t,e=this,a=this;t=this.resID?"/api/admin/product_color/update/"+this.resID:"/api/admin/product_color/create",this.$refs.form.validate((function(s){if(!s)return!1;axios({method:"post",url:t,data:e.form}).then((function(t){t.data.success?(a.$notify({title:"Success",message:t.data.mess,type:"success"}),a.$emit("success"),a.$refs.form.resetFields()):a.$notify({title:"Error",message:t.data.mess,type:"error"})}))}))},getDetail:function(t){var e,a=this;return(e=i().mark((function e(){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a,e.next=3,axios({method:"get",url:"/api/admin/product_color/detail/"+t}).then((function(t){var e=t.data;if(e.success){var a=e.data;s.form.title=a.title,s.form.value=a.value}}));case 3:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(s,i){var r=e.apply(t,a);function o(t){n(r,s,i,o,l,"next",t)}function l(t){n(r,s,i,o,l,"throw",t)}o(void 0)}))})()}}};var o=a(1900);const l={components:{formData:(0,o.Z)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form_product_color"},[a("div",{staticStyle:{"margin-top":"-30px"}},[a("span",{staticStyle:{"font-size":"13px","font-weight":"bold","text-transform":"uppercase"}},[t._v(t._s(t.title))]),t._v(" "),a("el-divider")],1),t._v(" "),a("el-form",{ref:"form",staticClass:"demo-ruleForm",attrs:{model:t.form,"label-width":"120px"}},[a("el-form-item",{attrs:{rules:t.requiredForm,label:"Màu sản phẩm",prop:"title"}},[a("el-input",{model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),a("el-form-item",{attrs:{rules:t.requiredForm,label:"Chọn mã màu",prop:"value"}},[a("el-color-picker",{model:{value:t.form.value,callback:function(e){t.$set(t.form,"value",e)},expression:"form.value"}})],1)],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"end"}},[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("Lưu lại")]),t._v(" "),a("el-button",{on:{click:function(e){return t.$refs.form.resetFields()}}},[t._v("Reset Form")])],1)],1)}),[],!1,null,"02e76bad",null).exports},data:function(){return{idUpdate:"",outerVisible:!1,loadingTable:!1,tableData:[],slideData:[],textSearch:"",currentPage:1,options:{Total:10,Page:1,PageLimit:10}}},mounted:function(){this.getList()},methods:{success:function(){this.outerVisible=!1,this.getList()},update:function(t){this.idUpdate=t.id,this.outerVisible=!0},handleSizeChange:function(t){this.options.PageLimit=t,this.getList()},handleCurrentChange:function(t){this.options.Page=t,this.getList()},updateStatus:function(t,e){var a=this,s=new FormData;console.log(e,"0"==e?"1":"0"),s.append("hidden","0"==e?"1":"0"),axios({method:"post",url:"/api/admin/product_color/update/"+t,data:s}).then((function(t){t.data.success?(a.$notify({title:"Success",message:t.data.mess,type:"success"}),a.getList()):a.$notify({title:"Error",message:t.data.mess,type:"error"})}))},deleteBanner:function(t){var e=this;axios({method:"post",url:"/api/admin/product_color/delete/"+t}).then((function(t){t.data.success?(e.$notify({title:"Success",message:t.data.mess,type:"success"}),e.getList()):e.$notify({title:"Error",message:t.data.mess,type:"error"})}))},getList:function(){var t=this;t.loadingTable=!0;var e={};this.options.Page&&(e.Page=this.options.Page),this.options.PageLimit&&(e.PageLimit=this.options.PageLimit),this.textSearch&&(e.TextSearch=this.textSearch),axios({method:"get",url:"/api/admin/product_color",params:e}).then((function(e){var a=e.data;a.success&&(t.tableData=a.data,t.options.Total=a.total,t.slideData=a.data.filter((function(t){return 1==t.hidden}))),t.loadingTable=!1}))},changeStatus:function(t){alert(t)},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""}}};var c=a(3379),u=a.n(c),d=a(9052),p={insert:"head",singleton:!1};u()(d.Z,p);d.Z.locals;const m=(0,o.Z)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card card-default"},[t._m(0),t._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"row",staticStyle:{display:"flex","flex-wrap":"nowrap",padding:"8px","justify-content":"space-between"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"Nhập kí tự cần tìm kiếm danh mục"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList()}},scopedSlots:t._u([{key:"append",fn:function(){return[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[a("i",{staticClass:"el-icon-search"}),t._v(" Tìm\n                                        kiếm\n                                    ")])]},proxy:!0}]),model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}}),t._v(" "),a("el-button",{staticClass:"ml-2",attrs:{type:"primary"},on:{click:function(e){t.outerVisible=!0,t.idUpdate=""}}},[a("i",{staticClass:"el-icon-plus"}),t._v(" Thêm mới\n                            ")])],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{"empty-text":"Chưa có dữ liệu !",data:t.tableData,border:"",resizable:!0,"row-class-name":t.tableRowClassName}},[a("el-table-column",{attrs:{prop:"title",label:"COLOR",sortable:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"value",label:"COLOR CODE"}}),t._v(" "),a("el-table-column",{attrs:{prop:"created_at",label:"NGÀY TẠO",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                    "+t._s(t._f("formatDate")(e.row.created_at))+"\n                                ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"THAO TÁC",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.update(e.row)}}},[t._v("Cập\n                                        nhật\n                                    ")]),t._v(" "),a("el-popconfirm",{attrs:{"confirm-button-text":"Xóa","cancel-button-text":"Không",title:"Bạn có chắc chắn muốn xóa hình ảnh này ?"},on:{confirm:function(){return t.deleteBanner(e.row.id)}}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[a("i",{staticClass:"el-icon-delete"}),t._v(" Xóa\n                                        ")])],1)]}}])}),t._v(" "),a("template",{slot:"empty"},[a("el-empty",{attrs:{description:"No data"}})],1)],2)],1),t._v(" "),a("div",{staticClass:"block",staticStyle:{"margin-left":"0px","margin-right":"8px",padding:"10px",width:"100%"}},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.options.PageLimit,layout:"total, sizes, prev, pager, next, jumper",total:t.options.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])]),t._v(" "),a("div",{staticClass:"card-footer"})])]),t._v(" "),a("el-dialog",{attrs:{visible:t.outerVisible},on:{"update:visible":function(e){t.outerVisible=e}}},[a("formData",{attrs:{resID:t.idUpdate},on:{success:t.success}})],1)],1)}),[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card-header",staticStyle:{"background-color":"rgb(0,0,0,0.1)"}},[a("h3",{staticClass:"card-title"},[t._v("DANH SÁCH MÀU SẢN PHẨM")]),t._v(" "),a("div",{staticClass:"card-tools"},[a("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[a("i",{staticClass:"fas fa-minus"})])])])}],!1,null,null,null).exports}}]);