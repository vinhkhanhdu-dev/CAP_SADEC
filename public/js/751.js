"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[751],{95974:(t,e,a)=>{a.d(e,{Z:()=>i});var n=a(23645),s=a.n(n)()((function(t){return t[1]}));s.push([t.id,".el-table .warning-row{background:oldlace}.el-table .success-row{background:#f0f9eb}.color-item{border:1px solid rgb(0,0,0,.5);border-radius:10px;height:27px;width:50px}",""]);const i=s},24751:(t,e,a)=>{a.r(e),a.d(e,{default:()=>l});const n={name:"product_list",data:function(){return{loadingTable:!1,tableData:[],slideData:[],textSearch:"",currentPage:1,options:{Total:10,Page:1,PageLimit:10}}},mounted:function(){this.getList()},methods:{handleSizeChange:function(t){this.options.PageLimit=t,this.getList()},handleCurrentChange:function(t){this.options.Page=t,this.getList()},updateStatus:function(t,e){},deleteBanner:function(t){var e=this;axios({method:"post",url:"/api/admin/products/delete/"+t}).then((function(t){t.data.success?(e.$notify({title:"Success",message:t.data.mess,type:"success"}),e.getList()):e.$notify({title:"Error",message:t.data.mess,type:"error"})}))},getList:function(){var t=this;t.loadingTable=!0;var e={};this.options.Page&&(e.page=this.options.Page),this.options.PageLimit&&(e.limit=this.options.PageLimit),this.textSearch&&(e.search=this.textSearch),axios({method:"get",url:"/api/admin/products",params:e}).then((function(e){var a=e.data;a.success&&(t.tableData=a.data,t.options.Total=a.count),t.loadingTable=!1}))},changeStatus:function(t){alert(t)},tableRowClassName:function(t){t.row;var e=t.rowIndex;return 1===e?"warning-row":3===e?"success-row":""}}};var s=a(93379),i=a.n(s),r=a(95974),o={insert:"head",singleton:!1};i()(r.Z,o);r.Z.locals;const l=(0,a(51900).Z)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"product_list"},[e("div",{staticClass:"card card-default"},[t._m(0),t._v(" "),e("div",{staticClass:"card-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"row",staticStyle:{display:"flex","flex-wrap":"nowrap",padding:"8px","justify-content":"space-between"}},[e("el-input",{staticStyle:{width:"500px"},attrs:{placeholder:"Nhập kí tự cần tìm kiếm danh mục"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.getList()}},scopedSlots:t._u([{key:"append",fn:function(){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.getList()}}},[e("i",{staticClass:"el-icon-search"}),t._v(" Tìm\n                                        kiếm\n                                    ")])]},proxy:!0}]),model:{value:t.textSearch,callback:function(e){t.textSearch=e},expression:"textSearch"}}),t._v(" "),e("el-button",{staticClass:"ml-2",attrs:{type:"primary"},on:{click:function(e){return t.$router.push({name:"ProductCreate"})}}},[e("i",{staticClass:"el-icon-plus"}),t._v(" Thêm mới\n                            ")])],1),t._v(" "),e("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{"empty-text":"Chưa có dữ liệu !",data:t.tableData,border:"",resizable:!0,"row-class-name":t.tableRowClassName}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{margin:"10px","margin-left":"50px"}},[e("table",{staticClass:"table table-bordered"},[e("tr",{staticStyle:{"background-color":"rgb(0,0,0,0.02)"}},[e("th",[e("i",{staticClass:"el-icon-connection"}),t._v(" Color")]),t._v(" "),e("th",[e("i",{staticClass:"el-icon-connection"}),t._v(" Size")]),t._v(" "),e("th",[e("i",{staticClass:"el-icon-connection"}),t._v(" Total")]),t._v(" "),e("th",[e("i",{staticClass:"el-icon-connection"}),t._v(" Price")])]),t._v(" "),t._l(a.row.options_product,(function(a){return e("tr",[e("td",[e("div",{staticStyle:{display:"flex","align-items":"center"}},[e("div",{staticClass:"color-item",style:{"background-color":a.color.value}}),t._v(" "),e("span",{staticClass:"ml-2"},[t._v(t._s(a.color.title))])])]),t._v(" "),e("td",[t._v(t._s(a.size.title))]),t._v(" "),e("td",[a.total>0?e("el-tag",{attrs:{effect:"dark",type:"success"}},[t._v(t._s(a.total+" (sản phẩm)"))]):e("el-tag",{attrs:{effect:"dark",type:"danger"}},[t._v("Hết hàng")])],1),t._v(" "),e("td",[t._v(t._s(t._f("toThousandFilter")(a.price))+" đ")])])}))],2)])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"TÊN",sortable:""}}),t._v(" "),e("el-table-column",{attrs:{prop:"path",label:"HÌNH ẢNH",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-image",{staticStyle:{height:"60px",width:"60px"},attrs:{lazy:"",src:t.row.images_product.length?t.row.images_product[0].path:"https://user-images.githubusercontent.com/24848110/33519396-7e56363c-d79d-11e7-969b-09782f5ccbab.png",fit:"contain"}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"category.title",label:"DANH MỤC"}}),t._v(" "),e("el-table-column",{attrs:{prop:"trade_mark",label:"THƯƠNG HIỆU"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-tag",{attrs:{type:"success"}},[t._v(t._s(a.row.trade_mark))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"address",width:"100",align:"center",label:"ẨN/ HIỆN"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{value:a.row.status.toString(),"active-value":"1","inactive-value":"0","active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(e){return t.updateStatus(a.row.id,a.row.hidden)}}})]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"created_at",label:"NGÀY TẠO",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n                                    "+t._s(t._f("formatDate")(e.row.created_at))+"\n                                ")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"THAO TÁC",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(e){return t.$router.push({name:"ProductUpdate",params:{id:a.row.id}})}}},[e("i",{staticClass:"el-icon-edit"})]),t._v(" "),e("el-popconfirm",{attrs:{"confirm-button-text":"Xóa","cancel-button-text":"Không",title:"Bạn có chắc chắn muốn xóa hình ảnh này ?"},on:{confirm:function(){return t.deleteBanner(a.row.id)}}},[e("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[e("i",{staticClass:"el-icon-delete"})])],1)]}}])}),t._v(" "),e("template",{slot:"empty"},[e("el-empty",{attrs:{description:"No data"}})],1)],2)],1),t._v(" "),e("div",{staticClass:"block",staticStyle:{"margin-left":"0px","margin-right":"8px",padding:"10px",width:"100%"}},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.options.PageLimit,layout:"total, sizes, prev, pager, next, jumper",total:t.options.Total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])]),t._v(" "),e("div",{staticClass:"card-footer"})])])}),[function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-header",staticStyle:{"background-color":"rgb(0,0,0,0.1)"}},[e("h3",{staticClass:"card-title"},[t._v("DANH SÁCH SẢN PHẨM")]),t._v(" "),e("div",{staticClass:"card-tools"},[e("button",{staticClass:"btn btn-tool",attrs:{type:"button","data-card-widget":"collapse"}},[e("i",{staticClass:"fas fa-minus"})])])])}],!1,null,null,null).exports}}]);